<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>SQL</title>
    <link rel="stylesheet" href="/style.css">
    <script src="/script.js" defer></script>
</head>

<body>
<div><a href="../Programming.html" class="backButton"></a></div>
<div class="bodyStyle">

    <div class="todo">
        <h2>Проработать</h2>
        <ol>
            <li><a href="https://habr.com/ru/company/wunderfund/blog/691178/">SQL и NoSQL. Правда ли одно лучше другого?</a></li>
            <li><a href="https://www.youtube.com/watch?v=-bSkREem8dM">Database vs Data Warehouse vs Data Lake | What is the Difference?</a></li>
            <li><a href="https://www.youtube.com/watch?v=H6juZ8c_Nu8">Stop using COUNT(id) to count rows</a></li>

            <h3>NoSQL</h3>
            <li><a href="https://www.youtube.com/watch?v=IBzTDkYNB7I">NoSQL простым языком: что это и зачем нужно?</a></li>

            <h3>CAP</h3>
            <li><a href="https://habr.com/ru/articles/328792/">Всё, что вы не знали о CAP теореме</a></li>
        </ol>
    </div>

    <section>
        <h2>Типы база данных:</h2>
        <ul>
            <li><a href="sql/SQL.html">SQL</a></li>
            <li><a href="no_sql/NoSql.html">NoSQL</a></li>
            <li><a href="cache/CacheService.html">Сервис кэширования</a></li>
        </ul>
    </section>

    <section>
        <h2>SQL vs NoSQL</h2>

        <h3>SQL</h3>
        <ul>
            <li>Данные хранятся в таблицах (строки и столбцы)</li>
            <li>Использует язык SQL (Structured Query Language) для запросов</li>
            <li>Жёсткая схема - структура таблицы фиксирована (нужно заранее описывать поля)</li>
            <li>Поддерживает ACID-свойства (гарантирует надёжность транзакций)</li>
        </ul>
        <p>Плюсы:</p>
        <ul>
            <li>Высокая целостность данных</li>
            <li>Поддержка сложных запросов и связей между таблицами (JOIN)</li>
            <li>Зрелые технологии, хорошо документированы</li>
            <li>Отлично подходит для структурированных данных</li>
        </ul>
        <p>Минусы:</p>
        <ul>
            <li>Менять структуру данных сложно (например, добавление новых полей)</li>
            <li>Меньшая гибкость в масштабировании на несколько серверов (горизонтальное масштабирование)</li>
        </ul>

        <h3>NoSQL</h3>
        <ul>
            <li>Нет фиксированной схемы (или она очень гибкая)</li>
            <li>Хранение данных в виде документов (JSON), пар ключ-значение, графов, колонок</li>
            <li>Легко масштабируются горизонтально</li>
            <li>Ориентированы на производительность и гибкость, а не строгос</li>
        </ul>
        <p>Плюсы:</p>
        <ul>
            <li>Отлично работает с большими объёмами неструктурированных данных</li>
            <li>Гибкая структура - можно добавлять новые поля без изменения схемы</li>
            <li>Простое горизонтальное масштабирование</li>
            <li>Часто быстрее для простых операций (запись/чтение)</li>
        </ul>
        <p>Минусы:</p>
        <ul>
            <li>Слабее гарантии целостности (часто используется "eventual consistency")</li>
            <li>Могут отсутствовать привычные транзакции и JOIN'ы</li>
            <li>Нет единого стандарта языка запросов (не SQL)</li>
        </ul>

        <h3>Когда использовать</h3>
        <img src="sql_nosql.png" width="80%">
    </section>

    <section>
        <h2>Модели транзакций для баз данных:</h2>

        <h2>ACID</h2>
        <p>ACID - используется для SQL баз данных. Требования к транзакционной системе(СУБД), обеспечивающие наиболее
            надёжную Consistency. Гарантирующих надёжность транзакций.
        </p>

        <h2>Требования ACID</h2>
        <ul>
            <li>Атомарность(Atomicity) - гарантирует, что никакая транзакция не будет зафиксирована в системе частично.
                Используется rollback - если транзакцию не удаётся завершить полностью, результаты всех действий будут
                отменены.
            </li>
            <li>Согласованность(Consistency) - сохранение согласованности базы. Пример: если с одного счета деньги
                списались, они должны быть зачислены на другой счет.
            </li>
            <li><a href="isolation/Isolation.html">Изолированность(Isolation)</a> - во время выполнения транзакции
                параллельные транзакции не должны оказывать влияния на её результат. Изолированность — требование
                дорогое, поэтому в реальных БД существуют режимы, не полностью изолирующие транзакцию.
            </li>
            <li>Прочность(Durability) - при проблемах на нижних уровнях (к примеру, обесточивание системы или сбои в
                оборудовании) изменения, сделанные успешно завершённой транзакцией, должны остаться сохранёнными после
                возвращения системы в работу. Другими словами, если пользователь получил подтверждение от системы,
                что транзакция выполнена, он может быть уверен, что сделанные им изменения не будут отменены из-за
                какого-либо сбоя.
            </li>
        </ul>

        <h2>BASE</h2>
        <p>BASE - используется для NoSQL баз данных. Делают ставку на масштабируемость и доступность, жертвуя
            строгой консистентностью.
        </p>
        <ul>
            <li>Basically Available(Базовая доступность) – система всегда отвечает, пусть даже не полностью
                корректными данными.
            </li>
            <li>Soft state(Мягкое состояние) – состояние данных может быть промежуточным и меняться со временем
                без внешних воздействий.
            </li>
            <li>Eventual consistency(Согласованность в итоге) – со временем все копии данных синхронизируются,
                но в момент запроса могут отличаться.
            </li>
        </ul>
    </section>

    <section>
        <h2>CAP-теорема(теорема Брюэра)</h2>
        <p>CAP - про поведение системы при сетевых сбоях.</p>
        <p>CAP актуальна только для распределённых БД. Одиночная БД на одном сервере — CAP неприменима. Кластеры,
            репликация, шардинг — CAP критична.
        </p>
        <p>CAP-теорема - это фундаментальная концепция в распределённых системах, которая утверждает, что распределённая
            система не может одновременно гарантировать все три следующих свойства:
        </p>

        <ul>
            <li>Consistency(Согласованность) - все узлы системы видят одни и те же данные в одно и то же время.
                Это означает, что после записи данных каждый запрос к системе вернёт последние обновлённые данные.
            </li>
            <li>Availability(Доступность) - каждый запрос от клиента получает ответ(успешный или с ошибкой), даже
                если некоторые узлы системы вышли из строя.
            </li>
            <li>Partition Tolerance(Устойчивость к разделению сети) - система продолжает работать, даже если происходит
                разделение сети(network partition) - то есть некоторые узлы не могут друг с другом общаться.
            </li>
        </ul>
        <p>В условиях разделения сети система может обеспечить либо согласованность, либо доступность, но не обе одновременно.</p>
        <h3>Как выбрать:</h3>
        <ul>
            <li>Если важна согласованность(банковская система) → выбираем CP</li>
            <li>Если важна доступность(соцсети, кэш) → выбираем AP</li>
        </ul>

        <h3>Примеры баз данных</h3>
        <p>CP (Consistency + Partition tolerance)</p>
        <ul>
            <li>HBase</li>
            <li>MongoDB (по умолчанию)</li>
            <li>AP (Availability + Partition tolerance)</li>
        </ul>

        <p>AP (Availability + Partition tolerance)</p>
        <ul>
            <li>Cassandra</li>
            <li>DynamoDB</li>
            <li>CouchDB</li>
        </ul>
    </section>

    <section>
        <h2>Дамб БД</h2>
        <p>Дамб - файл, содержащий инструкции на языке SQL, за счет которых создается точная копия вашей БД как
            по содержанию, так и по структуре.
        </p>

        <h3>Используется для:</h3>
        <ol>
            <li>Перенос БД на другой сервер.</li>
            <li>Резервное копирование базы данных.</li>
        </ol>
    </section>
</div>
</body>
<script>setBackButtonHeight();</script>
</html>