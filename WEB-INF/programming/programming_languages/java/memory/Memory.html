<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Память</title>
    <link rel="stylesheet" href="/style.css">
    <script src="/script.js" defer></script>
</head>
<body>
<div><a href="../JAVA.html" class="backButton"></a></div>
<div class="bodyStyle">
    <h1>Память</h1>

    <div class="todo">
        <h2>Проработать</h2>
        <ol>
            <li><a href="https://habr.com/ru/post/133981/">Модель памяти в примерах и не только</a></li>
            <li><a href="https://habr.com/ru/post/510454/">Java-модель памяти (часть 1)</a></li>
            <li><a href="https://javadevblog.com/chto-takoe-heap-i-stack-pamyat-v-java.html">Что такое Heap и Stack память в Java?</a></li>
            <li><a href="https://javadevblog.com/chto-takoe-heap-i-stack-pamyat-v-java.html">Что такое Heap и Stack память в Java?</a></li>
            <li><a href="https://habr.com/ru/post/269621/">Дюк, вынеси мусор! — Часть 1</a></li>
            <li><a href="https://habr.com/ru/post/112676/">Garbage Collection наглядно</a></li>
            <li><a href="https://habr.com/ru/post/169869/">Java 8: от PermGen к MetaSpace</a></li>
            <li>happens before java - модель памяти</li>
            <li>Разобраться как смотреть логи GC - https://www.baeldung.com/java-verbose-gc</li>
        </ol>
    </div>

    <ol><b>В JAVA есть 2 вида памяти:</b>
        <li><b>Heap(куча):</b>
            <ol Type="a">
                <li>Используется Java Runtime для выделения памяти и хранения объектов и JRE классов.</li>
                <li>Здесь работает сборщик мусора: освобождает память путем удаления объектов, на которые нет каких-либо
                    ссылок.
                </li>
                <li>Любой объект, созданный в куче, имеет глобальный доступ и на него могут ссылаться с любой части
                    приложения.
                </li>
            </ol>
            <ol><b>Здесь хранятся</b>:
                <li>При запуске программы сюда загружаются все классы среды выполнения</li>
                <li>Pool String</li>
                <li>Объекты</li>
                <li>Переменные объекта</li>
                <li>Статические переменные</li>
                <div>Доступно для всех потоков.<br>
                    Для JVM мы можем задать начальный пул выделения памяти (Xms) и максимальный пул выделения памяти
                    (Xmx).<br>
                    Если куча переполнена получаем OutOfMemoryError.
                </div>
            </ol>
        <li><b>Stack</b>- Всякий раз, когда вызывается метод, в памяти стека создается новый блок, который содержит
            примитивы и ссылки на другие объекты в методе. Как только метод заканчивает работу, блок также перестает
            использоваться, тем самым предоставляя доступ для следующего метода. Размер стековой памяти намного меньше
            объема памяти в куче.<br>
            Используется только одним потоком.<br>
            Для JVM мы можем задать максимальный пул стековой памяти(Xss).<br>
            Если память стека переполнена получаем StackOverflowError.
        </li>
        <ol><b>Здесь хранятся</b>:
            <li>Локальные переменные</li>
            <li>Ссылки на созданые объекты</li>
            <li>При вызове метода создает новый блок скековой памяти и после его завершения удаляется вместе с
                переменными и тд. со структурой данных LIFO
            </li>
        </ol>
    </ol>
    <ol>Виды сборщика мусора:
        <li>Serial Garbage Collector - S GC</li>
        <li>Parallel Garbage Collector - P GC</li>
        <li>CMS Garbage Collector - CMS GC</li>
        <li>G1 Garbage Collector - G1 GC</li>
        <li>The Z Garbage Collector - ZGC</li>
    </ol>
    <ol>Сборщики мусора по умолчанию:
        <li>Java 7 - Parallel GC</li>
        <li>Java 8 - Parallel GC</li>
        <li>Java 9 - G1 GC</li>
        <li>Java 10- G1 GC</li>
        <li>Java 11- Z GC</li>
    </ol>

    <h2>Вопросы</h2>
    <p>System.gc() - метод для выполнения сбора мусора. Но JVM сама решить запускать или нет.</p>
    <p>finalize() - вызывается перед удалением объекта. С Java 9 не рекомендуем к использованию.</p>
</div>
</body>
<script>setBackButtonHeight();</script>
</html>