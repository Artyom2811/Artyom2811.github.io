<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Testing</title>
    <link rel="stylesheet" href="/style.css">
    <script src="/script.js"></script>
</head>

<body>
<div><a href="../Libraries.html" class="backButton"></a></div>
<div class="bodyStyle">
    <h1>Testing</h1>

    <div class="todo">
        <h2>Проработать</h2>
        <ol>
            <li><a href="https://habr.com/ru/post/337700/">10 интересных нововведений в JUnit 5</a></li>
            <li><a href="https://habr.com/ru/post/120101/">Тестирование в Java. JUnit</a></li>
            <li><a href="https://www.youtube.com/watch?v=z9jEVLCF5_w">Тестирование кода Java с помощью фреймворка JUnit</a></li>
        </ol>
    </div>

    <h2>Основные библиотеки</h2>
    <ul>
        <li><a href="j_unit/JUnit.html">JUnit</a></li>
        <li>TestNG</li>
        <li>REST-assured - для проверки REST запросов. Применяется в интеграционном тестировании.</li>
        <li>Jacoco - библиотека для проверки покрытия кода.</li>
    </ul>

    <h2>Правила тестирования</h2>
    <h3>Ваши тесты должны</h3>
    <ol>
        <li>Достоверными.</li>
        <li>Не зависеть от окружения.</li>
        <li>Легко поддерживаться.</li>
        <li>Легко читаться и быть простыми для понимания.</li>
        <li>Соблюдать единую конвенцию именования.</li>
        <li>Запускаться регулярно в автоматическом режиме.</li>
        <li>Каждый тест должен проверять только одну вещь.</li>
    </ol>

    <h3>Хороший пример теста "AAA (arrange, act, assert)". Пример калькулятора.</h3>
    <pre>
class CalculatorTests
{
	public void Sum_2Plus5_7Returned()
	{
		// arrange
		var calc = new Calculator();

		// act
		var res = calc.Sum(2,5);

		// assert
		Assert.AreEqual(7, res);
	}
}
    </pre>

    <h3>Принципы для написания тестируемого кода.</h3>
    <ol>
        <li>Мыслите интерфейсами, а не классами, тогда вы всегда сможете легко подменять настоящие реализации
            подделками в тестовом коде.
        </li>
        <li>Избегайте прямого инстанцирования объектов внутри методов с логикой. Используйте фабрики или dependency
            injection. В этом случае использование IOC-контейнера в проекте может сильно упростить вам работу.
        </li>
        <li>Избегайте прямого вызова статических методов.</li>
        <li>Избегайте конструкторов, которые содержат логику: вам сложно будет это протестировать.</li>
    </ol>

    <h3>Измерения успешности внедрения юнит-тестов в вашем проекте следует использовать метрики</h3>
    <ol>
        <li>Количество багов в новых релизах (в т.ч. и регрессии)</li>
        <li>Покрытие кода</li>
    </ol>

    <h3>Способы измерения покрытия</h3>
    <ol>
        <li>покрытие операторов — каждая ли строка исходного кода была выполнена и протестирована.</li>
        <li>покрытие условий — каждая ли точка решения (вычисления истинно ли или ложно выражение) была выполнена и
            протестирована.</li>
        <li>покрытие путей — все ли возможные пути через заданную часть кода были выполнены и протестированы.</li>
        <li>покрытие функций — каждая ли функция программы была выполнена.</li>
        <li>покрытие вход/выход — все ли вызовы функций и возвраты из них были выполнены.</li>
        <li>покрытие значений параметров — все ли типовые и граничные значения параметров были проверены.</li>
    </ol>
</div>
</body>
<script>setBackButtonHeight();</script>
</html>